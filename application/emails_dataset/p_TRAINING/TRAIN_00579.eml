FROM: Andrei Popescu <andreimpopescu@csmining.org>
TO: debian-user@lists.debian.org
SUBJECT: Re: Disable server so it does not start on reboot (even after
 upgrade)?

On Thu,13.May.10, 11:13:43, Allan Wind wrote:
> I use insserv to boot my laptop and used `update-rc.d apache2 
> remove` to indicate that I do not want apache2 to start on 
> reboot.  Indeed this works fine for while.  Either an apache2 
> (apache2.2-common upgrade) or some other package install/upgrade 
> then seems to revert my choice and apache is once again started 
> in reboot.
> 
> Is there a better way to disable servers from starting?
As far as I know, the proper way to disable a service is to change the 
Sxy link in Kxy for the respective runlevel (this can also be done with 
any of the available runlevel editors, like sysv-rc-conf).
Removing all Sxy symlinks will result in them being recreated on the 
next upgrade (as you have experienced).
You can also make changes to the init.d script, but I'm not sure which 
ones will be detected by dpkg. Textual changes will, but don't know 
about removing the execute bit or the like.
Regards,
Andrei
-- 
Offtopic discussions among Debian users and developers:
http://lists.alioth.debian.org/mailman/listinfo/d-community-offtopic