FROM: Andrei Popescu <andreimpopescu@csmining.org>
TO: debian-user@lists.debian.org
SUBJECT: Re: Moving a drive to another computer

On Wed,19.May.10, 12:46:53, Vince Vielhaber wrote:
> 
> A friend was running windows and the viruses got the best of it. She
> sent me the drive so I could get her pics and documents off of it and
> put 5.0.4 on it and send it back (she's a few states away).
> 
> What problems (and solutions) should I be expecting when she installs
> the drive in her computer?  I'm assuming the network setup will be one
> problem.
Yes. interfaces(5) will tell you all you need for the configuration 
part, but before you send the drive don't forget to delete 
/etc/udev/rules.d/70-persistent-net.rules. This is the file responsible 
for mapping network interfaces to names by MAC. Wired interfaces are 
called eth0, eth1 and so on. Pray she doesn't have more than one 
(including any firewire adapter) otherwise it can get tricky.
> My background is mainly in FreeBSD.  If a drive is set up as being
> /dev/ad0 and the other machine sees it as /dev/ad4 it won't complete
> the boot, it'll complain with a cannot mount root error.  Will that be
> an issue with Debian?
Could be. The newer installer will setup fstab with UUIDs, but don't 
know about 5.0.4 (lenny). You can still modify it yourself though. Use 
blkid(8) (package util-linux) to find out the UUIDs and replace
/dev/hda1	/	ext3	errors=remount-ro	0	1
with
UUID=	/	ext3	errors=remount-ro	0	1
(assuming /dev/hda1 is the root partition)
Grub (the boot loader) can also be an issue, especially since its 'root' 
parameter can not use LABEL or UUID. If this is the only drive in the 
computer and the root partition is the first one you probably need
root	(hd0,0)
and you also need to pass the correct UUID as a kernel parameter.  
Replace 'root=/dev/hda1' with 'root=UUID=.
Do not edit the stanzas directly, but read the comments at the beginning 
of the file. You have to edit (from memory) the 'groot' and 'kopt' 
parameters, after which you have to run 'update-grub'.
Hope I didn't miss anything. There was also recently a thread about 
this, you should look it up.
Regards,
Andrei
-- 
Offtopic discussions among Debian users and developers:
http://lists.alioth.debian.org/mailman/listinfo/d-community-offtopic