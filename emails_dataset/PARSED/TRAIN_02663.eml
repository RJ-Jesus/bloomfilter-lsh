FROM: Merciadri Luca <Luca.Merciadri@student.ulg.ac.be>
TO: "Boyd Stephen Smith Jr." <bss@iguanasuicide.net>
SUBJECT: Re: Accelerating directory's content's viewing: how, is directory
 is huge?

Boyd Stephen Smith Jr. wrote:
> On Tuesday 18 May 2010 13:16:27 Merciadri Luca wrote:
>   
>> Hi,
>>
>> I have many media files in some specific directory (folder, call it as
>> you want). Loading the folder takes ~30 sec., even if I am using quite
>> fast HDDs, etc. They're all on the same partition. I have disabled
>> previewing, or thumbnails.
>>
>> How can I do to make this process faster?
>>     
>
> Slow to ls?  reiserfs, xfs, btrfs, or the dir_index option and hash_alg 
> extended option of ext3.
>
> Is the directory fast to ls, but slow to render in a GUI?  Problem is likely 
> with the GUI.
>   
Sorry, it is only slow to GUI (nautilus).
> How many files?
~25,000.
>  It may be better to convert to a "stepped" directory 
> structure.
>
> E.g.:
> Instead of:
> /home/abel
> /home/alfred
> /home/ada
> [...]
> /home/zelda
> /home/zola
> /home/zoolander
>
> Use:
> /home/a/abel
> /home/a/alfred
> /home/a/ada
> [...]
> /home/z/zelda
> /home/z/zola
> /home/z/zoolander
> Or: (usually only when names are fixed-length)
> /home/a/bel
> /home/a/lfred
> /home/a/da
> [...]
> /home/z/elda
> /home/z/ola
> /home/z/oolander
>
> I'm most familiar with using this for ASCII names, but it can be converted to 
> work with other names.  Japanese can use stroke count of the first character 
> instead of first character, for example.
>   
Yes. Good idea. I am however astonished that nautilus takes ~30 sec. to
open such a directory.


-- 
Merciadri Luca
See http://www.student.montefiore.ulg.ac.be/~merciadri/
I use PGP. If there is an incompatibility problem with your mail
client, please contact me.




